@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --glow-color: 14, 165, 233;

    /* Primary Palette (Sky) */
    --color-primary-50: 240 249 255;
    --color-primary-100: 224 242 254;
    --color-primary-200: 186 230 253;
    --color-primary-300: 125 211 252;
    --color-primary-400: 56 189 248;
    --color-primary-500: 14 165 233;
    --color-primary-600: 2 132 199;
    --color-primary-700: 3 105 161;
    --color-primary-800: 7 89 133;
    --color-primary-900: 12 74 110;
    --color-primary-950: 8 47 73;

    /* Accent Palette (Fuchsia) */
    --color-accent-50: 253 244 255;
    --color-accent-100: 250 232 255;
    --color-accent-200: 245 208 254;
    --color-accent-300: 240 171 252;
    --color-accent-400: 232 121 249;
    --color-accent-500: 217 70 239;
    --color-accent-600: 192 38 211;
    --color-accent-700: 162 28 175;
    --color-accent-800: 134 25 143;
    --color-accent-900: 112 26 117;
    --color-accent-950: 74 4 78;
  }

  html {
    @apply antialiased scroll-smooth;
    background-color: #09090b;
    /* Zinc 950 - Neutral dark, no violet tint */
    overscroll-behavior-y: none;
    /* Prevent rubber-banding/pull-to-refresh feel */
    font-feature-settings: "ss01", "ss02", "cv01", "cv02";
  }

  body {
    @apply min-h-screen bg-[#09090b] text-gray-100;
  }
}

@layer components {
  .glass {
    @apply bg-white/5 backdrop-blur-lg border border-white/10 shadow-xl;
  }

  .glass-card {
    @apply glass rounded-2xl transition-all duration-300 hover:bg-white/[0.15];
  }

  .glass-button {
    @apply glass px-6 py-3 rounded-xl font-medium transition-all duration-300 hover:bg-white/20 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed text-white;
  }

  .touch-target {
    @apply min-h-[44px] min-w-[44px] flex items-center justify-center;
  }

  .primary-button {
    @apply px-6 py-3 rounded-xl font-medium transition-all duration-300 bg-gradient-to-r from-primary-500 to-accent-500 hover:from-primary-600 hover:to-accent-600 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed text-white;
    box-shadow: 0 0 20px rgba(14, 165, 233, 0.3);
  }

  .primary-button:hover {
    box-shadow: 0 0 30px rgba(14, 165, 233, 0.5);
  }

  .input-field {
    @apply w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-primary-500/50 transition-all duration-200;
  }

  .card {
    @apply glass-card p-6;
  }

  .mega-title {
    @apply text-mega font-bold bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent pb-2;
  }

  .section-title {
    @apply text-2xl sm:text-3xl font-bold mb-6;
  }
}

/* Calendar Styles */
.calendar-dark {
  @apply text-white;
}

.calendar-dark .rbc-toolbar {
  @apply flex flex-wrap gap-2 sm:gap-3 mb-4 sm:mb-6 text-xs sm:text-sm;
}

.calendar-dark .rbc-toolbar button {
  @apply glass-button text-xs sm:text-sm px-3 py-2 text-white;
}

.calendar-dark .rbc-toolbar button.rbc-active {
  @apply bg-primary-500/50;
}

.calendar-dark .rbc-month-view,
.calendar-dark .rbc-time-view {
  @apply glass rounded-2xl overflow-hidden bg-gray-950/40;
}

.calendar-dark .rbc-header {
  @apply bg-white/10 text-white border-white/10 py-3 text-sm font-medium;
}

.calendar-dark .rbc-header button {
  @apply text-xs sm:text-sm truncate;
  min-width: 0;
}

.calendar-dark .rbc-header span {
  @apply truncate block;
}

.calendar-dark .rbc-day-bg {
  @apply border-white/10 bg-gray-900/50;
}

.calendar-dark .rbc-off-range-bg {
  @apply bg-white/5;
}

.calendar-dark .rbc-today {
  @apply bg-primary-500/20;
}

.calendar-dark .rbc-event {
  @apply bg-primary-500/80 border-0 rounded-lg px-2 py-1 backdrop-blur-sm;
}

.calendar-dark .rbc-event.rbc-selected {
  @apply bg-primary-600/90;
}

.calendar-dark .rbc-event-content {
  @apply font-medium text-xs sm:text-sm;
  white-space: normal !important;
  overflow: visible !important;
  line-height: 1.2;
}

.calendar-dark .rbc-event-label {
  display: none;
}

.calendar-dark .rbc-time-header-content {
  @apply border-white/10;
}

.calendar-dark .rbc-time-content {
  @apply border-white/10;
}

.calendar-dark .rbc-time-slot {
  @apply border-white/10 bg-gray-900/30;
}

.calendar-dark .rbc-current-time-indicator {
  @apply bg-primary-500;
}

.calendar-dark .rbc-timeslot-group {
  @apply border-white/10;
}

.calendar-dark .rbc-time-gutter .rbc-timeslot-group {
  @apply border-0;
}

.calendar-dark .rbc-time-content>*+*>* {
  @apply border-white/10 bg-gray-900/30;
}

.calendar-dark .rbc-time-view .rbc-allday-cell {
  @apply border-white/10;
}

.calendar-dark .rbc-agenda-view table.rbc-agenda-table {
  @apply border-white/10;
}

.calendar-dark .rbc-agenda-view table.rbc-agenda-table tbody>tr>td {
  @apply border-white/10;
}

.calendar-dark .rbc-agenda-view table.rbc-agenda-table .rbc-agenda-time-cell {
  @apply border-white/10;
}

/* Modal Styles */
.modal-backdrop {
  @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-50 animate-fade-in flex items-center justify-center p-4;
}

.modal-content {
  @apply glass-card w-full max-w-lg max-h-[90vh] overflow-y-auto animate-slide-in;
}

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideIn {
  from {
    transform: translateY(20px);
    opacity: 0;
  }

  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes slideInBottom {
  from {
    transform: translateY(100%);
  }

  to {
    transform: translateY(0);
  }
}

.animate-slide-in-bottom {
  animation: slideInBottom 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Container responsive */
.container {
  @apply w-full mx-auto px-4 sm:px-6 lg:px-8 max-w-[1440px];
}

/* Typography */
h1 {
  @apply text-2xl font-bold sm:text-3xl lg:text-4xl tracking-tight;
}

h2 {
  @apply text-xl font-semibold sm:text-2xl lg:text-3xl tracking-tight;
}

h3 {
  @apply text-lg font-medium sm:text-xl lg:text-2xl;
}

/* Tables */
.table-container {
  @apply w-full overflow-x-auto glass rounded-xl;
}

.table {
  @apply min-w-full divide-y divide-white/10;
}

.table th {
  @apply px-6 py-3 text-left text-xs font-medium text-white/90 uppercase tracking-wider;
}

.table td {
  @apply px-6 py-4 whitespace-nowrap text-sm text-white/90;
}

.table tr {
  @apply transition-colors hover:bg-white/5;
}

/* Badges */
.badge {
  @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
}

.badge-success {
  @apply bg-green-500/20 text-green-100;
}

.badge-warning {
  @apply bg-yellow-500/20 text-yellow-100;
}

.badge-error {
  @apply bg-red-500/20 text-red-100;
}

/* Loading states */
.loading {
  @apply animate-spin rounded-full border-2 border-white/20 border-t-white;
}

.loading-sm {
  @apply w-4 h-4;
}

.loading-md {
  @apply w-8 h-8;
}

.loading-lg {
  @apply w-12 h-12;
}

/* Navigation */
.nav-link {
  @apply flex items-center px-4 py-2 text-white/90 rounded-xl transition-colors hover:bg-white/10 hover:text-white;
}

.nav-link.active {
  @apply bg-white/20 text-white;
}

/* Responsive Grid */
.responsive-grid {
  @apply grid gap-4 sm:gap-6;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
}

/* Media Queries */
@media (max-width: 640px) {
  .table-responsive thead {
    @apply hidden;
  }

  .table-responsive tr {
    @apply block border-b border-white/10;
  }

  .table-responsive td {
    @apply block text-left py-3;
  }

  .table-responsive td::before {
    content: attr(data-label);
    @apply block text-sm font-medium text-white/80 mb-1;
  }
}

/* Modal text colors - Direct approach without @apply */
.bg-white .text-gray-900 {
  color: rgb(17 24 39);
}

.bg-white .text-gray-800 {
  color: rgb(31 41 55);
}

.bg-white .text-gray-700 {
  color: rgb(55 65 81);
}

.bg-white .text-gray-600 {
  color: rgb(75 85 99);
}

.bg-white .text-gray-500 {
  color: rgb(107 114 128);
}

.bg-white .text-gray-400 {
  color: rgb(156 163 175);
}

/* Input placeholder colors */
.bg-white input::placeholder,
.bg-white textarea::placeholder {
  color: rgb(107 114 128);
}

/* Modal headings */
.bg-white h2.text-2xl,
.bg-white h3.text-xl,
.bg-white h4.text-lg {
  color: rgb(17 24 39);
}

/* Form labels */
.bg-white label.text-sm {
  color: rgb(31 41 55);
}

/* Modal form inputs */
.bg-white input,
.bg-white textarea,
.bg-white select {
  color: rgb(31 41 55);
}

/* Modal buttons */
.bg-white button.text-gray-700 {
  color: rgb(55 65 81);
}

/* Calendar with white background - text should be dark */
.bg-white .rbc-calendar {
  color: rgb(31 41 55) !important;
}

.bg-white .rbc-toolbar button {
  color: rgb(31 41 55) !important;
  background: rgba(0, 0, 0, 0.05);
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.bg-white .rbc-toolbar button:hover {
  background: rgba(0, 0, 0, 0.1);
}

.bg-white .rbc-toolbar button.rbc-active {
  background: rgb(37 99 235);
  color: white !important;
}

.bg-white .rbc-header {
  background: rgba(0, 0, 0, 0.03);
  color: rgb(31 41 55) !important;
  border-color: rgba(0, 0, 0, 0.1);
  font-weight: 600;
}

.bg-white .rbc-day-bg {
  border-color: rgba(0, 0, 0, 0.1);
}

.bg-white .rbc-off-range {
  color: rgb(156 163 175) !important;
}

.bg-white .rbc-off-range-bg {
  background: rgba(0, 0, 0, 0.02);
}

.bg-white .rbc-today {
  background-color: rgba(59, 130, 246, 0.1);
}

.bg-white .rbc-date-cell {
  color: rgb(31 41 55) !important;
}

.bg-white .rbc-time-slot {
  border-color: rgba(0, 0, 0, 0.05);
}

.bg-white .rbc-timeslot-group {
  border-color: rgba(0, 0, 0, 0.1);
}

.bg-white .rbc-time-header-content {
  border-color: rgba(0, 0, 0, 0.1);
}

.bg-white .rbc-time-content {
  border-color: rgba(0, 0, 0, 0.1);
}

.bg-white .rbc-time-header-gutter,
.bg-white .rbc-time-gutter {
  background: rgba(0, 0, 0, 0.02);
}

.bg-white .rbc-label {
  color: rgb(75 85 99) !important;
  font-size: 0.75rem;
}

.bg-white .rbc-time-slot .rbc-label {
  color: rgb(107 114 128) !important;
}

.bg-white .rbc-event {
  background: rgb(37 99 235);
  color: white;
  border: none;
  border-radius: 4px;
}

.bg-white .rbc-event:hover {
  background: rgb(29 78 216);
}

.bg-white .rbc-event.rbc-selected {
  background: rgb(29 78 216);
}

.bg-white .rbc-show-more {
  color: rgb(37 99 235) !important;
  font-weight: 500;
}

.bg-white .rbc-month-row {
  border-color: rgba(0, 0, 0, 0.1);
}

.bg-white .rbc-day-slot .rbc-time-slot {
  border-top-color: rgba(0, 0, 0, 0.05);
}

.bg-white .rbc-current-time-indicator {
  background-color: rgb(239 68 68);
}

/* Autocomplete styles - prevent white background on dark backgrounds */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active,
textarea:-webkit-autofill,
textarea:-webkit-autofill:hover,
textarea:-webkit-autofill:focus,
textarea:-webkit-autofill:active,
select:-webkit-autofill,
select:-webkit-autofill:hover,
select:-webkit-autofill:focus,
select:-webkit-autofill:active {
  -webkit-background-clip: text;
  -webkit-text-fill-color: white;
  transition: background-color 5000s ease-in-out 0s;
  box-shadow: inset 0 0 20px 20px rgba(255, 255, 255, 0.1);
  caret-color: white;
}

/* Autocomplete styles for inputs in white modals */
.bg-white input:-webkit-autofill,
.bg-white input:-webkit-autofill:hover,
.bg-white input:-webkit-autofill:focus,
.bg-white input:-webkit-autofill:active,
.bg-white textarea:-webkit-autofill,
.bg-white textarea:-webkit-autofill:hover,
.bg-white textarea:-webkit-autofill:focus,
.bg-white textarea:-webkit-autofill:active,
.bg-white select:-webkit-autofill,
.bg-white select:-webkit-autofill:hover,
.bg-white select:-webkit-autofill:focus,
.bg-white select:-webkit-autofill:active {
  -webkit-text-fill-color: rgb(31 41 55);
  transition: background-color 5000s ease-in-out 0s;
  box-shadow: inset 0 0 20px 20px rgba(255, 255, 255, 1);
  caret-color: rgb(31 41 55);
}